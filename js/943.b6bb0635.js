"use strict";(self["webpackChunkdev_server"]=self["webpackChunkdev_server"]||[]).push([[943],{2943:function(e,o,t){t.r(o),t.d(o,{default:function(){return x}});var i=t(3396);const n={class:"main-content-mod"},a={class:"mod-header-container"},u={class:"page-mod-container"};function r(e,o,t,r,l,p){const s=(0,i.up)("ModHeader"),c=(0,i.up)("ModComponent");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",a,[(0,i.Wm)(s)]),(0,i._)("div",u,[(0,i.Wm)(c)])])}var l=t(9242);const p={class:"mod-content-container"},s={class:"add-cours"},c={class:"top-cours-composition"},m=(0,i.uE)('<option value="0">Date du cours</option><option value="2023">2023</option><option value="2022">2022</option><option value="2021">2021</option><option value="2020">2020</option><option value="2019">2019</option>',6),d=[m],v=(0,i.uE)('<option value="0">Type de cours</option><option value="Cm">Cm</option><option value="Td">Td</option><option value="Fiches">Fiches</option><option value="Partiels">Partiels</option><option value="Tp">Tp</option>',6),h=[v],y={class:"bottom-cours-composition"},A=(0,i.uE)('<option value="0">Promotion</option><option value="SHPI1A">SHPI 1A</option><option value="SHPI2A">SHPI 2A</option><option value="MT3A">MT 3A</option><option value="ME3A">ME 3A</option><option value="GInd3A">GInd 3A</option><option value="GM3A">GM 3A</option><option value="GInfo3A">GInfo 3A</option><option value="Cyber3A">Cyber 3A</option><option value="GCB3A">GCB 3A</option>',10),f=[A],g=(0,i.uE)('<option value="0">Matière</option><option value="Analyse">Analyse</option><option value="Algebre">Algèbre</option><option value="OMP">OMP</option><option value="Base De Donnees">Base De Données</option><option value="Electromagnetisme">Electromagnétisme</option><option value="Analyse numerique">Analyse numérique</option><option value="Genie logiciel">Génie logiciel</option><option value="Electrostatique">Electrostatique</option><option value="Electrocinetique">Electrocinétique</option><option value="Mecanique">Mécanique</option><option value="Automatique">Automatique</option><option value="Architecture">Architecture</option><option value="Probabilite">Probabilité</option><option value="Magnetostatique">Magnétostatique</option><option value="Chime des Materiaux">Chime des Matériaux</option><option value="Thermodynamique">Thermodynamique</option><option value="Optique geometrique">Optique géométrique</option><option value="Optique ondulatoire">Optique ondulatoire</option><option value="Algo">Algo</option><option value="Physique des ondes">Physique des ondes</option><option value="Calcul formel">Calcul formel</option>',22),b=[g],M={class:"input-file-cours"},q={type:"file",ref:"fileInput"};function _(e,o,t,n,a,u){return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",s,[(0,i._)("div",c,[(0,i.wy)((0,i._)("input",{class:"name-cours",type:"text",placeholder:"Nom","onUpdate:modelValue":o[0]||(o[0]=e=>a.name=e)},null,512),[[l.nr,a.name]]),(0,i.wy)((0,i._)("select",{class:"year-selected",name:"year-selected",id:"year-selected","onUpdate:modelValue":o[1]||(o[1]=e=>a.year=e)},d,512),[[l.bM,a.year]]),(0,i.wy)((0,i._)("select",{name:"type-cours",id:"type-cours","onUpdate:modelValue":o[2]||(o[2]=e=>a.type=e)},h,512),[[l.bM,a.type]])]),(0,i._)("div",y,[(0,i.wy)((0,i._)("select",{name:"promotion",id:"promotion","onUpdate:modelValue":o[3]||(o[3]=e=>a.promotion=e)},f,512),[[l.bM,a.promotion]]),(0,i.wy)((0,i._)("select",{class:"name",name:"Name",id:"name_id","onUpdate:modelValue":o[4]||(o[4]=e=>a.matiere=e)},b,512),[[l.bM,a.matiere]]),(0,i.wy)((0,i._)("input",{class:"auteur-cours",type:"text",placeholder:"Auteur","onUpdate:modelValue":o[5]||(o[5]=e=>a.auteur=e)},null,512),[[l.nr,a.auteur]])]),(0,i._)("div",M,[(0,i._)("input",q,null,512),(0,i._)("button",{class:"cours-submit",onClick:o[6]||(o[6]=(...e)=>u.uploadFile&&u.uploadFile(...e))},"Submit")])])])}var w=t(4161),C={data(){return{name:"",year:"0",promotion:"0",type:"0",path_folder:"",matiere:"0",auteur:""}},methods:{onChangedFile:function(e){var o=e.target.files[0];const t=new FormData;t.append("file",o),console.log(t)},updateFileName:function(e){return e.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s/g,"_").replace(/\//g,"")},uploadFile:async function(){const e=this.$refs.fileInput.files[0];if("0"==this.year||"0"==this.promotion||"0"==this.type||"0"==this.matiere||""==this.name||""==this.auteur||void 0==e)return void alert("Tous les champs sont obligatoire !");let o=this.matiere.replace(/\s/g,"");const t=o+"/"+this.promotion+"/"+this.type+"/",i=this.updateFileName(this.name),n=new FormData;n.append("file",e),n.append("newName",t+i),n.append("extension",e.name.split(".").pop());try{let e="";"SHPI1A"==this.promotion?e="1":"SHPI2A"==this.promotion&&(e="2"),"OMP"==this.matiere?this.matiere="Outil Mathematiques":"Architecture"==this.matiere?this.matiere="Architecture et Systemes dexploitation":"Algo"==this.matiere?this.matiere="Algorithmique":"Base De Donnees"==this.matiere?this.matiere="Bases de Donnees Relationnelles":"Probabilite"==this.matiere&&this.matiere,await w.Z.post("/api/cours",{name:this.name,year:this.year,shpi:e,type:this.type,path:t+i,matiere:this.matiere,auteur:this.auteur}).then((()=>{alert("Fichier ajouter a la base de donnée !")})).catch((()=>{alert("Une erreure est survenue, contactez l'admin")}))}catch(a){alert("Une erreure est survenue, contactez l'admin")}try{await w.Z.post("/api/upload",n).then((()=>{alert("Upload du fichier effectué !")})).catch((e=>{console.log(e)}))}catch(a){alert("Une erreure est survenue, contactez l'admin")}window.location.reload()}}},P=t(89);const D=(0,P.Z)(C,[["render",_]]);var E=D;t(7658);const I={class:"header-home-container"},F={class:"button-header-container"},G=(0,i._)("button",{class:"cours"},"Cours",-1);function T(e,o,t,n,a,u){return(0,i.wg)(),(0,i.iD)("div",I,[(0,i._)("div",F,[(0,i._)("button",{onClick:o[0]||(o[0]=e=>this.$router.push("/"))},"Accueil"),G])])}var U={};const H=(0,P.Z)(U,[["render",T]]);var O=H,S={components:{ModComponent:E,ModHeader:O}};const k=(0,P.Z)(S,[["render",r]]);var x=k}}]);
//# sourceMappingURL=943.b6bb0635.js.map