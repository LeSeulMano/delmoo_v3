"use strict";(self["webpackChunkdev_server"]=self["webpackChunkdev_server"]||[]).push([[334],{334:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(3396),a=r(7139);const s={class:"slider-content"},o={class:"cardList"},c=(0,n._)("button",{class:"cardList__btn btn btn--left"},[(0,n._)("div",{class:"icon"},[(0,n._)("svg",null,[(0,n._)("use",{"xlink:href":"#arrow-left"})])])],-1),i={class:"cards__wrapper"},l={class:"card__image"},d=["src"],u={class:"card__image"},p=["src"],f={class:"card__image"},m=["src"],v=(0,n._)("button",{class:"cardList__btn btn btn--right"},[(0,n._)("div",{class:"icon"},[(0,n._)("svg",null,[(0,n._)("use",{"xlink:href":"#arrow-right"})])])],-1),_={class:"infoList"},g={class:"info__wrapper"},y={class:"info current--info"},h={class:"text name"},w={class:"text location"},x={class:"text description"},q={class:"info next--info"},S={class:"text name"},L={class:"text location"},b={class:"text description"},C={class:"info previous--info"},k={class:"text name"},z={class:"text location"},E={class:"text description"},Y=(0,n._)("div",{class:"loading__wrapper"},[(0,n._)("div",{class:"loader--text"},"Loading..."),(0,n._)("div",{class:"loader"},[(0,n._)("span")])],-1),P={class:"icons",style:{display:"none"}},Z=(0,n._)("symbol",{id:"arrow-left",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,n._)("polyline",{points:"328 112 184 256 328 400",style:{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48px","z-index":"5"}})],-1),I=(0,n._)("symbol",{id:"arrow-right",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[(0,n._)("polyline",{points:"184 112 328 256 184 400",style:{fill:"none",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48px"}})],-1),A=[Z,I];function T(e,t,r,Z,I,T){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[(0,n._)("div",o,[c,(0,n._)("div",i,[(0,n._)("div",{class:"card current--card",onClick:t[0]||(t[0]=e=>T.open(0))},[(0,n._)("div",l,[(0,n._)("img",{src:I.image[0].image,alt:""},null,8,d)])]),(0,n._)("div",{class:"card next--card",onClick:t[1]||(t[1]=e=>T.open(1))},[(0,n._)("div",u,[(0,n._)("img",{src:I.image[1].image,alt:""},null,8,p)])]),(0,n._)("div",{class:"card previous--card",onClick:t[2]||(t[2]=e=>T.open(2))},[(0,n._)("div",f,[(0,n._)("img",{src:I.image[2].image,alt:""},null,8,m)])])]),v]),(0,n._)("div",_,[(0,n._)("div",g,[(0,n._)("div",y,[(0,n._)("h1",h,(0,a.zw)(I.image[0].matiere),1),(0,n._)("h4",w,(0,a.zw)(I.image[0].nom),1),(0,n._)("p",x,(0,a.zw)(I.image[0].type)+" | "+(0,a.zw)(I.image[0].shpi)+"A | "+(0,a.zw)(I.image[0].auteur),1)]),(0,n._)("div",q,[(0,n._)("h1",S,(0,a.zw)(I.image[1].matiere),1),(0,n._)("h4",L,(0,a.zw)(I.image[1].nom),1),(0,n._)("p",b,(0,a.zw)(I.image[1].type)+" | "+(0,a.zw)(I.image[1].shpi)+"A | "+(0,a.zw)(I.image[1].auteur),1)]),(0,n._)("div",C,[(0,n._)("h1",k,(0,a.zw)(I.image[2].matiere),1),(0,n._)("h4",z,(0,a.zw)(I.image[2].nom),1),(0,n._)("p",E,(0,a.zw)(I.image[2].type)+" | "+(0,a.zw)(I.image[2].shpi)+"A | "+(0,a.zw)(I.image[2].auteur),1)])])])]),Y,((0,n.wg)(),(0,n.iD)("svg",P,A))],64)}var X=r(8552),B=r(9092),$=r.n(B),j={data(){const e=document.querySelector(".cards__wrapper"),t=document.querySelector(".app__bg"),r=document.querySelector(".info__wrapper");return{cardsContainerEl:e,appBgContainerEl:t,cardInfosContainerEl:r,flipped:!0,image:[{image:null,nom:null,shpi:null,type:null,auteur:null,matiere:null,path:null},{image:null,nom:null,shpi:null,type:null,auteur:null,matiere:null,path:null},{image:null,nom:null,shpi:null,type:null,auteur:null,matiere:null,path:null}]}},mounted(){const e={prev:document.querySelector(".btn--left"),next:document.querySelector(".btn--right")};this.initCardEvents(),this.waitForImages(),e.next.addEventListener("click",(()=>this.swapCards("right"))),e.prev.addEventListener("click",(()=>this.swapCards("left")))},methods:{open:async function(e){const t=this.image[e].path,r=document.createElement("a");r.href=t,r.download=t.split("/").pop(),document.body.appendChild(r),r.click(),document.body.removeChild(r)},flipCard:function(){"current--card"!=event.currentTarget.classList[1]&&"back-card"!=event.currentTarget.classList[0]||(this.flipped?(document.querySelector(".current--card").style.transform="rotateY(180deg) translate(50%, 50%)",document.querySelector(".back-card").style.transform="rotateY(0deg) translate(-50%, -50%) scale(1.2)",this.flipped=!this.flipped):(document.querySelector(".current--card").style.transform="translate(-50%, -50%) translateX(var(--card-translateX-offset)) translateY(var(--card-translateY-offset)) rotateY(var(--card-rotation-offset)) scale(var(--card-scale-offset))",document.querySelector(".back-card").style.transform="rotateY(180deg) translate(-50%, -50%)",this.flipped=!this.flipped))},swapCards:function(e){const t=document.querySelector(".cards__wrapper").querySelector(".current--card"),r=document.querySelector(".cards__wrapper").querySelector(".previous--card"),n=document.querySelector(".cards__wrapper").querySelector(".next--card");function a(){t.classList.remove("current--card"),r.classList.remove("previous--card"),n.classList.remove("next--card"),t.style.zIndex="50","right"===e?(r.style.zIndex="20",n.style.zIndex="30",t.classList.add("previous--card"),r.classList.add("next--card"),n.classList.add("current--card")):"left"===e&&(r.style.zIndex="30",n.style.zIndex="20",t.classList.add("next--card"),r.classList.add("current--card"),n.classList.add("previous--card"))}this.flipped||(document.querySelector(".current--card").style.transform="translate(-50%, -50%) translateX(var(--card-translateX-offset)) translateY(var(--card-translateY-offset)) rotateY(var(--card-rotation-offset)) scale(var(--card-scale-offset))",document.querySelector(".back-card").style.transform="rotateY(180deg) translate(-50%, -50%)",this.flipped=!this.flipped),this.changeInfo(e),a(),this.removeCardEvents(t)},changeInfo:function(e){let t=document.querySelector(".info__wrapper").querySelector(".current--info"),r=document.querySelector(".info__wrapper").querySelector(".previous--info"),n=document.querySelector(".info__wrapper").querySelector(".next--info");const a={prev:document.querySelector(".btn--left"),next:document.querySelector(".btn--right")};function s(){t.classList.remove("current--info"),r.classList.remove("previous--info"),n.classList.remove("next--info"),"right"===e?(t.classList.add("previous--info"),n.classList.add("current--info"),r.classList.add("next--info")):"left"===e&&(t.classList.add("next--info"),n.classList.add("previous--info"),r.classList.add("current--info"))}X.ZP.timeline().to([a.prev,a.next],{duration:.2,opacity:.5,pointerEvents:"none"}).to(t.querySelectorAll(".text"),{duration:.4,stagger:.1,translateY:"-120px",opacity:0},"-=").call((()=>{s(e)})).call((()=>this.initCardEvents())).fromTo("right"===e?n.querySelectorAll(".text"):r.querySelectorAll(".text"),{opacity:0,translateY:"40px"},{duration:.4,stagger:.1,translateY:"0px",opacity:1}).to([a.prev,a.next],{duration:.2,opacity:1,pointerEvents:"all"})},updateCard:function(e){const t=e.currentTarget,r=t.getBoundingClientRect(),n={x:r.left+r.width/2,y:r.top+r.height/2};let a=Math.atan2(e.pageX-n.x,0)*(35/Math.PI);X.ZP.set(t,{"--current-card-rotation-offset":`${a}deg`});const s=document.querySelector(".info__wrapper").querySelector(".current--info");X.ZP.set(s,{rotateY:`${a}deg`})},resetCardTransforms:function(e){const t=e.currentTarget,r=document.querySelector(".info__wrapper").querySelector(".current--info");X.ZP.set(t,{"--current-card-rotation-offset":0}),X.ZP.set(r,{rotateY:0})},initCardEvents:function(){const e=document.querySelector(".cards__wrapper").querySelector(".current--card");e.addEventListener("pointermove",this.updateCard),e.addEventListener("pointerout",(e=>{this.resetCardTransforms(e)}))},removeCardEvents:function(e){e.removeEventListener("pointermove",this.updateCard)},init:function(){const e={prev:document.querySelector(".btn--left"),next:document.querySelector(".btn--right")};let t=X.ZP.timeline();t.to(document.querySelector(".cards__wrapper").children,{delay:.15,duration:.5,stagger:{ease:"power4.inOut",from:"right",amount:.1},"--card-translateY-offset":"0%"}).to(document.querySelector(".current--info").querySelectorAll(".text"),{delay:.5,duration:.4,stagger:.1,opacity:1,translateY:0}).to([e.prev,e.next],{duration:.4,opacity:1,pointerEvents:"all"},"-=0.4")},waitForImages:function(){const e=[...document.querySelectorAll("img")],t=e.length;let r=0;const n=document.querySelector(".loader span"),a={prev:document.querySelector(".btn--left"),next:document.querySelector(".btn--right")};X.ZP.set(document.querySelector(".cards__wrapper").children,{"--card-translateY-offset":"100vh"}),X.ZP.set(document.querySelector(".current--info").querySelectorAll(".text"),{translateY:"40px",opacity:0}),X.ZP.set([a.prev,a.next],{pointerEvents:"none",opacity:"0"}),e.forEach((e=>{$()(e,(e=>{if(e.isComplete){r++;let e=r/t;X.ZP.to(n,{duration:1,scaleX:e,backgroundColor:`hsl(${120*e}, 100%, 50%`}),t==r&&X.ZP.timeline().to(".loading__wrapper",{duration:.8,opacity:0,pointerEvents:"none"}).call((()=>this.init()))}}))}))}}},D=r(89);const F=(0,D.Z)(j,[["render",T]]);var M=F}}]);
//# sourceMappingURL=334.9025cd09.js.map