"use strict";(self["webpackChunkdev_server"]=self["webpackChunkdev_server"]||[]).push([[316],{4316:function(e,o,t){t.r(o),t.d(o,{default:function(){return V}});var n=t(3396);const i={class:"main-content-mod"},a={class:"mod-header-container"},u={class:"page-mod-container"};function p(e,o,t,p,l,r){const s=(0,n.up)("ModHeader"),c=(0,n.up)("ModComponent");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",a,[(0,n.Wm)(s)]),(0,n._)("div",u,[(0,n.Wm)(c)])])}var l=t(9242);const r={class:"mod-content-container"},s={class:"add-cours"},c={class:"top-cours-composition"},d=(0,n.uE)('<option value="0">Date du cours</option><option value="2023">2023</option><option value="2022">2022</option><option value="2021">2021</option><option value="2020">2020</option><option value="2019">2019</option>',6),m=[d],v=(0,n.uE)('<option value="0">Type de cours</option><option value="Cm">Cm</option><option value="Td">Td</option><option value="Fiches">Fiches</option><option value="Partiels">Partiels</option><option value="Tp">Tp</option>',6),h=[v],y={class:"bottom-cours-composition"},A=(0,n.uE)('<option value="0">Promotion</option><option value="SHPI1A">SHPI 1A</option><option value="SHPI2A">SHPI 2A</option><option value="MT3A">MT 3A</option><option value="ME3A">ME 3A</option><option value="GInd3A">GInd 3A</option><option value="GM3A">GM 3A</option><option value="GInfo3A">GInfo 3A</option><option value="Cyber3A">Cyber 3A</option><option value="GCB3A">GCB 3A</option>',10),f=[A],g=(0,n.uE)('<option value="0">Matière</option><option value="Analyse">Analyse</option><option value="Algebre">Algèbre</option><option value="OMP">OMP</option><option value="Base De Donnees">Base De Données</option><option value="Electromagnetisme">Electromagnétisme</option><option value="Analyse numerique">Analyse numérique</option><option value="Genie logiciel">Génie logiciel</option><option value="Electrostatique">Electrostatique</option><option value="Electrocinetique">Electrocinétique</option><option value="Mecanique">Mécanique</option><option value="Automatique">Automatique</option><option value="Architecture">Architecture</option><option value="Probabilite">Probabilité</option><option value="Magnetostatique">Magnétostatique</option><option value="Chime des Materiaux">Chime des Matériaux</option><option value="Thermodynamique">Thermodynamique</option><option value="Optique geometrique">Optique géométrique</option><option value="Optique ondulatoire">Optique ondulatoire</option><option value="Algo">Algo</option><option value="Physique des ondes">Physique des ondes</option><option value="Calcul formel">Calcul formel</option>',22),b=[g],M={class:"input-file-cours"},q={type:"file",ref:"fileInput"};function _(e,o,t,i,a,u){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",s,[(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{class:"name-cours",type:"text",placeholder:"Nom","onUpdate:modelValue":o[0]||(o[0]=e=>a.name=e)},null,512),[[l.nr,a.name]]),(0,n.wy)((0,n._)("select",{class:"year-selected",name:"year-selected",id:"year-selected","onUpdate:modelValue":o[1]||(o[1]=e=>a.year=e)},m,512),[[l.bM,a.year]]),(0,n.wy)((0,n._)("select",{name:"type-cours",id:"type-cours","onUpdate:modelValue":o[2]||(o[2]=e=>a.type=e)},h,512),[[l.bM,a.type]])]),(0,n._)("div",y,[(0,n.wy)((0,n._)("select",{name:"promotion",id:"promotion","onUpdate:modelValue":o[3]||(o[3]=e=>a.promotion=e)},f,512),[[l.bM,a.promotion]]),(0,n.wy)((0,n._)("select",{class:"name",name:"Name",id:"name_id","onUpdate:modelValue":o[4]||(o[4]=e=>a.matiere=e)},b,512),[[l.bM,a.matiere]]),(0,n.wy)((0,n._)("input",{class:"auteur-cours",type:"text",placeholder:"Auteur","onUpdate:modelValue":o[5]||(o[5]=e=>a.auteur=e)},null,512),[[l.nr,a.auteur]])]),(0,n._)("div",M,[(0,n._)("input",q,null,512),(0,n._)("button",{class:"cours-submit",onClick:o[6]||(o[6]=(...e)=>u.uploadFile&&u.uploadFile(...e))},"Submit")])])])}var w=t(4161),C={data(){return{name:"",year:"0",promotion:"0",type:"0",path_folder:"",matiere:"0",auteur:""}},methods:{onChangedFile:function(e){var o=e.target.files[0];const t=new FormData;t.append("file",o),console.log(t)},updateFileName:function(e){return e.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s/g,"_").replace(/\//g,"")},uploadFile:async function(){const e=this.$refs.fileInput.files[0];if("0"==this.year||"0"==this.promotion||"0"==this.type||"0"==this.matiere||""==this.name||""==this.auteur||void 0==e)return void alert("Tous les champs sont obligatoire !");let o=this.matiere.replace(/\s/g,"");const t=o+"/"+this.promotion+"/"+this.type+"/",n=this.updateFileName(this.name),i=new FormData;i.append("file",e),i.append("newName",t+n),i.append("extension",e.name.split(".").pop());try{let e="";"SHPI1A"==this.promotion?e="1":"SHPI2A"==this.promotion&&(e="2"),await w.Z.post("/api/cours",{name:this.name,year:this.year,shpi:e,type:this.type,path:t+n,matiere:this.matiere,auteur:this.auteur}).then((()=>{alert("Fichier ajouter a la base de donnée !")})).catch((()=>{alert("Une erreure est survenue, contactez l'admin")}))}catch(a){alert("Une erreure est survenue, contactez l'admin")}try{await w.Z.post("/api/upload",i).then((()=>{alert("Upload du fichier effectué !")})).catch((e=>{console.log(e)}))}catch(a){alert("Une erreure est survenue, contactez l'admin")}window.location.reload()}}},P=t(89);const E=(0,P.Z)(C,[["render",_]]);var I=E;t(7658);const F={class:"header-home-container"},D={class:"button-header-container"},G=(0,n._)("button",{class:"cours"},"Cours",-1);function T(e,o,t,i,a,u){return(0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",D,[(0,n._)("button",{onClick:o[0]||(o[0]=e=>this.$router.push("/"))},"Accueil"),G])])}var U={};const H=(0,P.Z)(U,[["render",T]]);var S=H,k={components:{ModComponent:I,ModHeader:S}};const O=(0,P.Z)(k,[["render",p]]);var V=O}}]);
//# sourceMappingURL=316.a8f651fd.js.map